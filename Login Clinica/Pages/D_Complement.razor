 @page "/d_complement"
 @using Login_Clinica.Pages.Funciones_Pacientes.Model
 @inject Category Category
 
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Mvc.Rendering;
using System.Collections.Generic;

<PageTitle>Datos Complementarios</PageTitle>

<h1>Datos Complementarios</h1>
<form asp-action="Index" method="post" enctype="multipart/form-data">
    <div class="container">
        <h2>Identificación</h2>
        <div class="body">
            <div class="col-4">
                <label class="label" for="imagen">Imagen:</label>
                <input type="file" id="imagen" accept="image/*">
            </div>
            <div class="col-4">
                <label class="label" for="huellaDigital">Huella Digital:</label>
                <input type="file" id="huellaDigital" accept="image/*">
            </div>
            <div class="col-4">
                <label class="label" for="firma">Firma:</label>
                <input type="file" id="firma" accept="image/*">
            </div>
            <div class="col-4">
                <label class="label" for="Rasgos">Rasgos Físicos:</label>
                <input type="text" id="Rasgos" class="container">
            </div>
        </div>
    </div>

    <div class="container">
        <h2>Datos Geográficos</h2>
        <div class="row">
            <div class="col-4">
                <label for="direccion">Dirección:</label>
                <input type="text" id="direccion" class="form-control">
            </div>
            <div class="col-4">
                <label for="ubicacionGeoreferencial">Ubicación Georeferencial:</label>
                <input type="text" id="ubicacionGeoreferencial" class="textarea">
            </div>
            <div class="col-4">
                <label for="ubicacionGeoreferencialAdicional">Ubicación Georeferencial Adicional:</label>
                <input type="text" id="ubicacionGeoreferencialAdicional" class="form-control">
            </div>
            <div class="col-4">
                <label for="referencias">Referencias:</label>
                <input type="text" id="referencias" class="form-control">
            </div>
        </div>
    </div>

    <div class="container">
        <h2>Datos Adicionales</h2>
        <div class="row">
            <div class="col-4">
                <label for="grupoSanguineo">Grupo Sanguíneo:</label>
                <select @onchange="OnCategoryChanged" class="form-control">
                    @foreach (var category in categories)
                    {
                        <option value="@category.Id">@category.Name</option>
                    }
                </select>
                <p>Selected Category ID: @selectedCategoryId</p>

            </div>
            <div class="col-4">
                <label for="codigoBarras">Código de Barras:</label>
                <input type="text" id="codigoBarras" class="form-control">
            </div>
            <div class="col-4">
                <label for="personasDeReferencias">Personas de Referencias:</label>
                <input type="text" id="personasDeReferencias" class="form-control">
            </div>
        </div>
    </div>
</form>
@code {

    //tomar datos del combobox

    private List<Category> categories;
    private int selectedCategoryId;

    protected override void OnInitialized()
    {
        categories = new List<Category>
        {
            new Category { Id = 1, Name = "A+" },
            new Category { Id = 2, Name = "A-" },
            new Category { Id = 3, Name = "B+" },
            new Category { Id = 4, Name = "B-" },
            new Category { Id = 5, Name = "AB+" },
            new Category { Id = 6, Name = "AB-" },
            new Category { Id = 7, Name = "O+" },
            new Category { Id = 8, Name = "-" },
        };
    }

    private void OnCategoryChanged(ChangeEventArgs e)
    {
        selectedCategoryId = int.Parse(e.Value.ToString());
        // Handle the change here, e.g., update other parts of the UI or call a service
    } 
}

